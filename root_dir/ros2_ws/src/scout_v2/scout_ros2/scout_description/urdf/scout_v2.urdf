<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from scout_v2.xacro                 | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="scout_v2" xmlns:gazebo="http://gazebosim.org">
  <link name="scout_ns_base_footprint"/>
  <joint name="scout_ns_base_footprint_joint" type="fixed">
    <parent link="scout_ns_base_footprint"/>
    <child link="scout_ns_base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.23479"/>
  </joint>
  <!-- Base link -->
  <link name="scout_ns_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/scout_description/share/scout_description/meshes/base_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.008"/>
      <geometry>
        <box size="0.925 0.38 0.21"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.034999999999999996"/>
      <geometry>
        <box size="0.15416666666666667 0.627 0.06999999999999999"/>
      </geometry>
    </collision>
  </link>
  <link name="scout_ns_inertial_link">
    <inertial>
      <mass value="40"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="2.288641" ixy="0" ixz="0" iyy="5.103976" iyz="0" izz="3.431465"/>
    </inertial>
  </link>
  <joint name="scout_ns_inertial_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_inertial_link"/>
  </joint>
  <link name="scout_ns_front_right_wheel_link">
    <inertial>
      <mass value="3"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.7171" ixy="0" ixz="0" iyy="0.1361" iyz="0" izz="0.7171"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/scout_description/share/scout_description/meshes/wheel_type1.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570795 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.11653" radius="0.16459"/>
      </geometry>
    </collision>
  </link>
  <joint name="scout_ns_front_right_wheel" type="continuous">
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_front_right_wheel_link"/>
    <origin rpy="3.14 0 0" xyz="0.249 -0.29153 -0.0702"/>
    <axis rpy="0 0 0" xyz="0 -1 0"/>
  </joint>
  <gazebo reference="scout_ns_front_right_wheel_link">
    <collision>
      <surface>
        <friction>
          <ode>
            <mu>100000.0</mu>
            <mu2>100000.0</mu2>
            <fdir1>0 0 0</fdir1>
            <slip1>0.0</slip1>
            <slip2>0.0</slip2>
          </ode>
        </friction>
        <!-- <contact>
                        <ode>
                            <kp>1e5</kp>
                            <kd>1</kd>
                        </ode>
                    </contact> -->
      </surface>
    </collision>
  </gazebo>
  <link name="scout_ns_rear_right_wheel_link">
    <inertial>
      <mass value="3"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.7171" ixy="0" ixz="0" iyy="0.1361" iyz="0" izz="0.7171"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/scout_description/share/scout_description/meshes/wheel_type1.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570795 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.11653" radius="0.16459"/>
      </geometry>
    </collision>
  </link>
  <joint name="scout_ns_rear_right_wheel" type="continuous">
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_rear_right_wheel_link"/>
    <origin rpy="3.14 0 0" xyz="-0.249 -0.29153 -0.0702"/>
    <axis rpy="0 0 0" xyz="0 -1 0"/>
  </joint>
  <gazebo reference="scout_ns_rear_right_wheel_link">
    <collision>
      <surface>
        <friction>
          <ode>
            <mu>100000.0</mu>
            <mu2>100000.0</mu2>
            <fdir1>0 0 0</fdir1>
            <slip1>0.0</slip1>
            <slip2>0.0</slip2>
          </ode>
        </friction>
        <!-- <contact>
                        <ode>
                            <kp>1e5</kp>
                            <kd>1</kd>
                        </ode>
                    </contact> -->
      </surface>
    </collision>
  </gazebo>
  <link name="scout_ns_front_left_wheel_link">
    <inertial>
      <mass value="3"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.7171" ixy="0" ixz="0" iyy="0.1361" iyz="0" izz="0.7171"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/scout_description/share/scout_description/meshes/wheel_type1.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570795 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.11653" radius="0.16459"/>
      </geometry>
    </collision>
  </link>
  <joint name="scout_ns_front_left_wheel" type="continuous">
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_front_left_wheel_link"/>
    <origin rpy="3.14 0 0" xyz="0.249 0.29153 -0.0702"/>
    <axis rpy="0 0 0" xyz="0 -1 0"/>
  </joint>
  <gazebo reference="scout_ns_front_left_wheel_link">
    <collision>
      <surface>
        <friction>
          <ode>
            <mu>100000.0</mu>
            <mu2>100000.0</mu2>
            <fdir1>0 0 0</fdir1>
            <slip1>0.0</slip1>
            <slip2>0.0</slip2>
          </ode>
        </friction>
        <!-- <contact>
                        <ode>
                            <kp>1e5</kp>
                            <kd>1</kd>
                        </ode>
                    </contact> -->
      </surface>
    </collision>
  </gazebo>
  <link name="scout_ns_rear_left_wheel_link">
    <inertial>
      <mass value="3"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.7171" ixy="0" ixz="0" iyy="0.1361" iyz="0" izz="0.7171"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/scout_description/share/scout_description/meshes/wheel_type1.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.570795 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.11653" radius="0.16459"/>
      </geometry>
    </collision>
  </link>
  <joint name="scout_ns_rear_left_wheel" type="continuous">
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_rear_left_wheel_link"/>
    <origin rpy="3.14 0 0" xyz="-0.249 0.29153 -0.0702"/>
    <axis rpy="0 0 0" xyz="0 -1 0"/>
  </joint>
  <gazebo reference="scout_ns_rear_left_wheel_link">
    <collision>
      <surface>
        <friction>
          <ode>
            <mu>100000.0</mu>
            <mu2>100000.0</mu2>
            <fdir1>0 0 0</fdir1>
            <slip1>0.0</slip1>
            <slip2>0.0</slip2>
          </ode>
        </friction>
        <!-- <contact>
                        <ode>
                            <kp>1e5</kp>
                            <kd>1</kd>
                        </ode>
                    </contact> -->
      </surface>
    </collision>
  </gazebo>
  <ros2_control name="GazeboSystem" type="system">
    <hardware>
      <plugin>gazebo_ros2_control/GazeboSystem</plugin>
    </hardware>
    <joint name="scout_ns_front_left_wheel">
      <command_interface name="velocity">
        <param name="min">-6</param>
        <param name="max">6</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="scout_ns_rear_left_wheel">
      <command_interface name="velocity">
        <param name="min">-6</param>
        <param name="max">6</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="scout_ns_front_right_wheel">
      <command_interface name="velocity">
        <param name="min">-6</param>
        <param name="max">6</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="scout_ns_rear_right_wheel">
      <command_interface name="velocity">
        <param name="min">-6</param>
        <param name="max">6</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>
  <gazebo>
    <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">
      <robot_param>scout_ns_robot_description</robot_param>
      <robot_param_node>robot_state_publisher</robot_param_node>
      <parameters>package://scout_description/config/scout_control.yaml</parameters>
    </plugin>
  </gazebo>
  <link name="scout_ns_camera_link">
    <visual>
      <geometry>
        <box size="0.010 0.03 0.03"/>
      </geometry>
    </visual>
  </link>
  <joint name="scout_ns_camera_joint" type="fixed">
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_camera_link"/>
    <origin rpy="0 0 0" xyz="0.4 0 0.18"/>
  </joint>
  <joint name="scout_ns_camera_optical_joint" type="fixed">
    <parent link="scout_ns_camera_link"/>
    <child link="scout_ns_camera_link_optical"/>
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
  </joint>
  <link name="scout_ns_camera_link_optical"/>
  <gazebo reference="scout_ns_camera_link">
    <sensor name="camera" type="depth">
      <pose> 0 0 0 0 0 0 </pose>
      <always_on>true</always_on>
      <visualize>true</visualize>
      <update_rate>30</update_rate>
      <camera>
        <horizontal_fov>1.089</horizontal_fov>
        <vertical_fov>1.57</vertical_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>B8G8R8</format>
        </image>
        <clip>
          <near>0.4</near>
          <far>200</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <!-- Noise is sampled independently per pixel on each frame.
                            That pixel's noise value is added to each of its color
                            channels, which at that point lie in the range [0,1]. -->
          <mean>1.2e-4</mean>
          <stddev>0.09</stddev>
        </noise>
      </camera>
      <plugin filename="libgazebo_ros_camera.so" name="camera_controller">
        <frame_name>scout_ns_camera_link_optical</frame_name>
        <!-- <min_depth>1.2</min_depth>
                    <max_depth>2.4</max_depth> -->
        <ros>
          <namespace>scout_ns</namespace>
          <remapping>/scout_ns/camera/image_raw:=/scout_ns/rgb/image</remapping>
          <remapping>/scout_ns/camera/camera_info:=/scout_ns/rgb/camera_info</remapping>
          <remapping>/scout_ns/camera/depth/image_raw:=/scout_ns/depth/image</remapping>
        </ros>
      </plugin>
    </sensor>
  </gazebo>
  <!-- *********************** IMU SETUP *********************************  -->
  <!-- Each sensor must be attached to a link.                              -->
  <link name="scout_ns_imu_link">
    <visual>
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
    </collision>
  </link>
  <joint name="scout_ns_imu_joint" type="fixed">
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_imu_link"/>
    <origin xyz="0 0 0.01"/>
  </joint>
  <gazebo reference="scout_ns_imu_link">
    <sensor name="imu_sensor" type="imu">
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <ros>
          <namespace>scout_ns</namespace>
          <remapping>/scout_ns/imu_plugin/out:=/scout_ns/imu</remapping>
        </ros>
        <initial_orientation_as_reference>false</initial_orientation_as_reference>
      </plugin>
      <always_on>true</always_on>
      <update_rate>100</update_rate>
      <visualize>true</visualize>
      <imu>
        <angular_velocity>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.0000075</bias_mean>
              <bias_stddev>0.0000008</bias_stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.0000075</bias_mean>
              <bias_stddev>0.0000008</bias_stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.0000075</bias_mean>
              <bias_stddev>0.0000008</bias_stddev>
            </noise>
          </z>
        </angular_velocity>
        <linear_acceleration>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.1</bias_mean>
              <bias_stddev>0.001</bias_stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.1</bias_mean>
              <bias_stddev>0.001</bias_stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.1</bias_mean>
              <bias_stddev>0.001</bias_stddev>
            </noise>
          </z>
        </linear_acceleration>
      </imu>
    </sensor>
  </gazebo>
  <!-- *********************** GPS SETUP **********************************  -->
  <!-- Each sensor must be attached to a link.                              -->
  <link name="scout_ns_gps_link">
    <visual>
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
    </collision>
  </link>
  <joint name="scout_ns_gps_joint" type="fixed">
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_gps_link"/>
    <origin rpy="0 0 0" xyz="0.10 0 0.05"/>
  </joint>
  <gazebo reference="scout_ns_gps_link">
    <sensor name="gps_sensor" type="gps">
      <always_on>true</always_on>
      <update_rate>10.0</update_rate>
      <plugin filename="libgazebo_ros_gps_sensor.so" name="gps_controller">
        <ros>
          <namespace>scout_ns</namespace>
          <remapping>/scout_ns/gps_controller/out:=/scout_ns/gps/fix</remapping>
        </ros>
        <frame_name>scout_ns_gps_link</frame_name>
      </plugin>
    </sensor>
    <material>Gazebo/Grey</material>
  </gazebo>
  <joint name="scout_ns_velodyne_base_mount_joint" type="fixed">
    <origin rpy="0 0.7825 0" xyz="0.5 0 0.4"/>
    <parent link="scout_ns_base_link"/>
    <child link="scout_ns_velodyne_base_link"/>
  </joint>
  <link name="scout_ns_velodyne_base_link">
    <inertial>
      <mass value="0.83"/>
      <origin xyz="0 0 0.03585"/>
      <inertia ixx="0.000908059425" ixy="0" ixz="0" iyy="0.000908059425" iyz="0" izz="0.0011049624"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="package://velodyne_description/meshes/VLP16_base_1.dae"/>
      </geometry>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://velodyne_description/meshes/VLP16_base_2.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.03585"/>
      <geometry>
        <cylinder length="0.0717" radius="0.0516"/>
      </geometry>
    </collision>
  </link>
  <joint name="scout_ns_velodyne_base_scan_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.0377"/>
    <parent link="scout_ns_velodyne_base_link"/>
    <child link="scout_ns_velodyne"/>
  </joint>
  <link name="scout_ns_velodyne">
    <inertial>
      <mass value="0.01"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1e-7" ixy="0" ixz="0" iyy="1e-7" iyz="0" izz="1e-7"/>
    </inertial>
    <visual>
      <origin xyz="0 0 -0.0377"/>
      <geometry>
        <mesh filename="package://velodyne_description/meshes/VLP16_scan.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0"/>
      </geometry>
    </collision>
  </link>
  <!-- Gazebo requires the velodyne_gazebo_plugins package -->
  <gazebo reference="scout_ns_velodyne">
    <sensor name="scout_ns_velodyne-VLP16" type="ray">
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>440</samples>
            <resolution>1</resolution>
            <min_angle>-3.14159</min_angle>
            <max_angle>3.14159</max_angle>
          </horizontal>
          <vertical>
            <samples>16</samples>
            <resolution>1</resolution>
            <min_angle>-0.26179916666666664</min_angle>
            <max_angle> 0.26179916666666664</max_angle>
          </vertical>
        </scan>
        <range>
          <min>0.6</min>
          <max>6.0</max>
          <resolution>0.001</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.0</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_velodyne_laser.so" name="gazebo_ros_laser_controller">
        <ros>
          <namespace>/scout_ns_velodyne</namespace>
          <remapping>~/out:=/scout_ns/velodyne_points</remapping>
        </ros>
        <tf_prefix></tf_prefix>
        <frame_name>scout_ns_velodyne</frame_name>
        <organize_cloud>False</organize_cloud>
        <min_range>0.6</min_range>
        <max_range>5.0</max_range>
        <gaussian_noise>0.008</gaussian_noise>
      </plugin>
    </sensor>
  </gazebo>
</robot>
